
Функция ПустаяДата() Экспорт
	
    Возврат	Дата(1, 1, 1);

КонецФункции //(ПустаяДата)

Функция СложитьДвеДаты(Дата1, Дата2) Экспорт
	
	Возврат Дата1 + (Дата2 - ПустаяДата());
		
КонецФункции //(СложитьДвеДаты)

Функция ДниВСекундах(КоличествоДней = 1) Экспорт
	
    Возврат 60*60*24 * КоличествоДней;

КонецФункции //(ДниВСекундах)

Функция ПреобразоватьДатуВTimestamp(Дата1С) Экспорт

	Возврат Формат(Число(Дата1С - Дата(1970, 01, 01)),"ЧГ=0");
	
КонецФункции //(ПреобразоватьДатуВTimestamp)

Функция ПреобразоватьTimestampВДату(ДатаTS) Экспорт
	
	Возврат Дата(1970, 01, 01) + ДатаTS;
	
КонецФункции //(ПреобразоватьTimestampВДату)

Функция ПолучитьСоставВремениИзДатыСекунд(ДатаСекунды) Экспорт
	
	СтруктураСоставВремени = Новый Структура("Время, Годы, Месяца, Дни, Часы, Минуты, Секунды", ПустаяДата(), 0, 0, 0, 0);
	
	Время = ПустаяДата();
	ТипВхПараметра = ТипЗнч(ДатаСекунды);
	Если ТипВхПараметра = Тип("Число") Тогда 
		Время = Время + ДатаСекунды;
	ИначеЕсли ТипВхПараметра = Тип("Дата") Тогда 
		Время = ДатаСекунды;
	ИначеЕсли ТипВхПараметра = Тип("Строка") Тогда
		ОписаниеТипаДата = ОписаниеТиповПереопределенное("Дата", ЧастиДаты.ДатаВремя);
		Время = ОписаниеТипаДата.Привести(ДатаСекунды);
		Если НЕ ЗначениеЗаполнено(Время) Тогда
			ОписаниеТипаЧисло = ОписаниеТиповПереопределенное("Число", 15, 0, ДопустимыйЗнак.Неотрицательный);
			СекундыЧислом = ОписаниеТипаЧисло.Привезти(ДатаСекунды);
			Если СекундыЧислом > 0 Тогда
				Время = Время + СекундыЧислом;	
			КонецЕсли;
		КонецЕсли;		
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(Время) Тогда
		Возврат СтруктураСоставВремени;
	КонецЕсли;
	
	СтруктураСоставВремени.Время 	= Время;
	СтруктураСоставВремени.Годы 	= Год(Время);
	СтруктураСоставВремени.Месяца 	= Месяц(Время);
	СтруктураСоставВремени.Дни 		= День(Время);
	СтруктураСоставВремени.Часы 	= Час(Время);
	СтруктураСоставВремени.Минуты 	= Минута(Время);
	СтруктураСоставВремени.Секунды 	= Секунда(Время);
	
	Возврат СтруктураСоставВремени;
	
КонецФункции //(ПолучитьСоставВремениИзДатыСекунд)

